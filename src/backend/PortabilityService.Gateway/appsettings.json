{
  "ApplicationInsights": {
    "InstrumentationKey": "<AI-Key-Goes-Here>"
  },
  "Gateway": {
    "ReRoutes": [
      {
        "RouteDescription": "Analyze Service Redirect",
        "DownstreamPathTemplate": "/api/analyze",
        "DownstreamScheme": "https",
        "DownstreamHostAndPorts": [
          {
            "Host": "portability.dot.net",
            "Port": 443
          }
        ],
        "UpstreamPathTemplate": "/api/analyze",
        "UpstreamHttpMethod": [ "POST" ],
        "RateLimitOptions": {
          "ClientWhitelist": [],
          "EnableRateLimiting": true,
          "Period": "10s",
          "PeriodTimespan": 10,
          "Limit": 10
        }
      },

      {
        "RouteDescription": "WebHook Service Redirect",
        "DownstreamPathTemplate": "/api/hooks/{path}",
        "DownstreamScheme": "https",
        "DownstreamHostAndPorts": [
          {
            "Host": "portability.dot.net",
            "Port": 443
          }
        ],
        "UpstreamPathTemplate": "/api/hooks/{path}",
        "UpstreamHttpMethod": [ "GET", "POST" ]
      },

      {
        "RouteDescription": "ToolsData Service Redirect",
        "DownstreamPathTemplate": "/api/toolsData/{path}",
        "DownstreamScheme": "https",
        "DownstreamHostAndPorts": [
          {
            "Host": "portability.dot.net",
            "Port": 443
          }
        ],
        "UpstreamPathTemplate": "/api/toolsData/{path}",
        "UpstreamHttpMethod": [ "GET" ],
        "FileCacheOptions": { "TtlSeconds": 5 }
      },

      {
        "RouteDescription": "FxApi Service Redirect",
        "DownstreamPathTemplate": "/api/fxapi",
        "DownstreamScheme": "https",
        "DownstreamHostAndPorts": [
          {
            "Host": "portability.dot.net",
            "Port": 443
          }
        ],
        "UpstreamPathTemplate": "/api/fxapi",
        "UpstreamHttpMethod": [ "GET" ],
        "FileCacheOptions": { "TtlSeconds": 5 }
      },
      {
        "RouteDescription": "FxApi Search Service Redirect",
        "DownstreamPathTemplate": "/api/fxapi/search",
        "DownstreamScheme": "https",
        "DownstreamHostAndPorts": [
          {
            "Host": "portability.dot.net",
            "Port": 443
          }
        ],
        "UpstreamPathTemplate": "/api/fxapi/search",
        "UpstreamHttpMethod": [ "GET" ],
        "FileCacheOptions": { "TtlSeconds": 5 }
      },
      {
        "RouteDescription": "FxApi (POST) Service Redirect",
        "DownstreamPathTemplate": "/api/fxapi",
        "DownstreamScheme": "https",
        "DownstreamHostAndPorts": [
          {
            "Host": "portability.dot.net",
            "Port": 443
          }
        ],
        "UpstreamPathTemplate": "/api/fxapi",
        "UpstreamHttpMethod": [ "POST" ],
        "RateLimitOptions": {
          "ClientWhitelist": [],
          "EnableRateLimiting": true,
          "Period": "10s",
          "PeriodTimespan": 10,
          "Limit": 10
        }
      },

      {
        "RouteDescription": "Data Service Redirect",
        "DownstreamPathTemplate": "/api/data",
        "DownstreamScheme": "https",
        "DownstreamHostAndPorts": [
          {
            "Host": "portability.dot.net",
            "Port": 443
          }
        ],
        "UpstreamPathTemplate": "/api/data",
        "UpstreamHttpMethod": [ "GET" ],
        "FileCacheOptions": { "TtlSeconds": 5 }
      },
      {
        "RouteDescription": "Breaking Change Data Service Redirect",
        "DownstreamPathTemplate": "/api/data/BreakingChanges",
        "DownstreamScheme": "https",
        "DownstreamHostAndPorts": [
          {
            "Host": "portability.dot.net",
            "Port": 443
          }
        ],
        "UpstreamPathTemplate": "/api/data/BreakingChanges",
        "UpstreamHttpMethod": [ "GET" ],
        "FileCacheOptions": { "TtlSeconds": 5 }
      },
      {
        "RouteDescription": "Data Update Service Redirect",
        "DownstreamPathTemplate": "/api/data",
        "DownstreamScheme": "https",
        "DownstreamHostAndPorts": [
          {
            "Host": "portability.dot.net",
            "Port": 443
          }
        ],
        "UpstreamPathTemplate": "/api/data",
        "UpstreamHttpMethod": [ "PUT" ],
        "RateLimitOptions": {
          "ClientWhitelist": [],
          "EnableRateLimiting": true,
          "Period": "10s",
          "PeriodTimespan": 10,
          "Limit": 10
        }
      },

      {
        "RouteDescription": "ResultFormat Service Redirect",
        "DownstreamPathTemplate": "/api/resultformat",
        "DownstreamScheme": "https",
        "DownstreamHostAndPorts": [
          {
            "Host": "portability.dot.net",
            "Port": 443
          }
        ],
        "UpstreamPathTemplate": "/api/resultformat",
        "UpstreamHttpMethod": [ "GET" ],
        "FileCacheOptions": { "TtlSeconds": 5 }
      },
      {
        "RouteDescription": "Default ResultFormat Service Redirect",
        "DownstreamPathTemplate": "/api/resultformat/default",
        "DownstreamScheme": "https",
        "DownstreamHostAndPorts": [
          {
            "Host": "portability.dot.net",
            "Port": 443
          }
        ],
        "UpstreamPathTemplate": "/api/resultformat/default",
        "UpstreamHttpMethod": [ "GET" ],
        "FileCacheOptions": { "TtlSeconds": 5 }
      },

      {
        "RouteDescription": "Target Service Redirect",
        "DownstreamPathTemplate": "/api/target",
        "DownstreamScheme": "https",
        "DownstreamHostAndPorts": [
          {
            "Host": "portability.dot.net",
            "Port": 443
          }
        ],
        "UpstreamPathTemplate": "/api/target",
        "UpstreamHttpMethod": [ "GET" ],
        "FileCacheOptions": { "TtlSeconds": 5 }
      }
    ],
    "GlobalConfiguration": {
      "RequestIdKey": "Correlation-Id"
    }
  },
  "ResilientHttp": {
    "CircuitBreakerDurationSeconds": 120,
    "ExceptionsBeforeCircuitBreak": 6,
    "RetryCount": 3,
    "RetryBaseDelaySeconds": 0.5,
    "TimeoutSeconds": 5
  },
  "Serilog": {
    "MinimumLevel": "Warning",
    "WriteTo": [
      {
        "Name": "Console",
        "Args": {
          "outputTemplate": "{Timestamp:HH:mm:ss} {Level:u3} | {RequestId} - {Message}{NewLine}{Exception}"
        }
      }
    ]
  }
}